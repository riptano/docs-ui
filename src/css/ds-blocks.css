/* Source block */

/*
 *  Usage: [source,python]
 *
 *  Default style: [source.default,python]
 */

.listingblock:not(.default) .content {
  display: grid;
}

.listingblock:not(.default) .content .source-toolbox {
  position: relative;
  padding: var(--ds-space-1) var(--ds-space-2);
  visibility: visible;
  justify-content: flex-end;
  background: var(--ds-neutral-100);
  grid-row-start: 1;
  border-top-left-radius: calc(6 / var(--rem-base) * 1rem);
  border-top-right-radius: calc(6 / var(--rem-base) * 1rem);
  top: 0;
  left: 0;
}

.listingblock:not(.default) .content .source-toolbox .source-lang::after {
  display: none;
}

.listingblock:not(.default) .content .source-toolbox .copy-button {
  justify-content: flex-end;
  flex-direction: column-reverse;
}

.source-toolbox .copy-button > .material-icons {
  font-size: calc(16 / var(--rem-base) * 1rem);
}

.listingblock:not(.default) .content .source-toolbox .source-lang {
  color: var(--ds-text-primary);
  text-transform: capitalize;
  font-family: var(--body-font-family);
  line-height: 1.5;
  letter-spacing: 0.65px;
  font-weight: var(--body-font-weight-bold);
  flex: 1;
}

.listingblock:not(.default) .source-toolbox .copy-toast:not(:only-child)::after {
  transform: rotate(90deg) translateX(135%) translateY(-45%);
}

.listingblock:not(.default) .source-toolbox .copy-button:not(:only-child) .copy-toast {
  margin: 0 0 var(--ds-space-2h) 0;
}

.listingblock:not(.default) .source-toolbox .copy-button:only-child .copy-toast {
  margin: 0 0 calc(14 / var(--rem-base) * 1rem) 0;
}

.listingblock:not(.default) .hljs {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  border-top-color: var(--ds-neutral-100);
}

.listingblock .source-toolbox {
  right: var(--ds-space-2);
}

html[data-theme="dark"] .listingblock:not(.default) .content .source-toolbox {
  background: var(--ds-neutral-700);
}

html[data-theme="dark"] .listingblock:not(.default) .hljs {
  border-top-color: var(--ds-neutral-700);
}

/*
 *
 * Admonitions component
 *
 */
.doc .admonitionblock {
  border: 1px solid var(--ds-success-outlined-border);
  border-radius: calc(6 / var(--rem-base) * 1rem);
  overflow-x: hidden;
}

.doc .admonitionblock > table > tbody > tr {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

.doc .admonitionblock .icon {
  display: flex;
  gap: var(--ds-space-1);
  align-items: center;
  align-self: stretch;
  position: unset;
  width: 100%;
  transform: none;
  text-transform: none;
  color: var(--ds-text-primary);
  font-size: calc(16 / var(--rem-base) * 1rem);
  line-height: 1.5;
  height: var(--ds-space-6);
  padding: var(--ds-space-1h) var(--ds-space-2);
  border-radius: 0;
}

.doc .admonitionblock td.content > *,
.doc .admonitionblock td.content p {
  margin-top: var(--ds-space-2);
}

.doc .admonitionblock td.content .ulist p {
  margin-top: 0;
}

.doc .admonitionblock td.content > .paragraph:first-child p:first-child,
.doc .admonitionblock td.content > .title {
  margin: 0;
}

.doc .admonitionblock .title {
  font-style: normal;
}

.doc .admonitionblock td.content {
  background: none;
}

.doc .admonitionblock .icon::before {
  font-family: "Material Icons Outlined", sans-serif;
  font-size: calc(20 / var(--rem-base) * 1rem);
  font-weight: normal;
}

/* TIP, NOTE */
.doc .admonitionblock.tip .icon,
.doc .admonitionblock.note .icon {
  background: var(--ds-success-soft-bg);
  color: var(--ds-text-primary);
}

.doc .admonitionblock.note .icon::before {
  color: var(--ds-success-500);
  content: '\e88e';
}

.doc .admonitionblock.tip .icon::before {
  color: var(--ds-success-500);
  content: '\e0f0';
}

/* CAUTION */
.doc .admonitionblock.caution .icon {
  background: var(--ds-warning-soft-bg);
  color: var(--ds-text-primary);
}

.doc .admonitionblock.caution {
  border: 1px solid var(--ds-warning-outlined-border);
}

.doc .admonitionblock.caution .icon::before {
  color: var(--ds-warning-500);
  content: '\e88e';
}

/* WARNING, IMPORTANT */
.doc .admonitionblock.warning .icon,
.doc .admonitionblock.important .icon {
  background: var(--ds-failure-soft-bg);
  color: var(--ds-text-primary);
}

.doc .admonitionblock.warning,
.doc .admonitionblock.important {
  border: 1px solid var(--ds-failure-outlined-border);
}

.doc .admonitionblock.warning .icon::before {
  color: var(--ds-failure-500);
  content: '\f083';
}

.doc .admonitionblock.important .icon::before {
  color: var(--ds-failure-500);
  content: '\e160';
}

html[data-theme="dark"] .doc .admonitionblock .icon::before {
  color: var(--ds-primary-text);
}

/*
 *
 * Dialog component
 *
 */

dialog {
  display: none;
  padding: 0;
  flex-direction: column;
  align-items: flex-start;
  border-radius: 6px;
  border: 1px solid var(--ds-neutral-300);
  width: 90%;
  max-width: 640px;
  background: var(--body-background);
  color: var(--doc-font-color);
}

/* dialog header */
dialog .header {
  display: flex;
  padding: var(--ds-space-3);
  padding-bottom: var(--ds-space-2);
  align-items: center;
  gap: var(--ds-space-2);
  align-self: stretch;
  justify-content: space-between;
  border-bottom: 1px solid var(--ds-neutral-200);
}

dialog .header .title {
  @include text-h1;

  color: var(--heading-font-color);
}

dialog .header .close-button {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--ds-space-1);
}

dialog .header kbd {
  border: none;
  box-shadow: none;
  background: var(--ds-neutral-100);
}

dialog .header button {
  background: transparent;
  border: none;
  line-height: 1;
}

dialog .header .material-icons {
  color: var(--link-font-color);
}

/* dialog content */
dialog form {
  width: 100%;
}

dialog .content {
  display: flex;
  flex-direction: column;
  align-self: stretch;
  border-bottom: 1px solid var(--ds-neutral-200);
  padding: var(--ds-space-3) var(--ds-space-4) var(--ds-space-3) var(--ds-space-3);
}

dialog .content .message {
  @include text-h2;

  color: var(--heading-font-color);
  margin-bottom: var(--ds-space-4);
}

dialog .content .question {
  font-size: calc(13 / var(--rem-base) * 1rem);
  color: var(--ds-neutral-700);
  font-weight: 600;
  letter-spacing: 0.65px;
}

dialog .content textarea {
  font-family: var(--body-font-family);
  color: var(--doc-font-color);
  background: var(--body-background);
  height: calc(160 / var(--rem-base) * 1rem);
  margin-top: var(--ds-space-h);
  resize: none;
  padding: var(--ds-space-1);
  border-radius: 6px;
  border: 1px solid var(--ds-neutral-300);
}

dialog .action {
  display: flex;
  padding: var(--ds-space-2) var(--ds-space-3) var(--ds-space-3) var(--ds-space-3);
  align-items: center;
  gap: var(--ds-space-1);
  align-self: stretch;
  justify-content: flex-end;
}

dialog[open] {
  display: flex;
}

dialog::backdrop {
  background: rgba(10, 10, 10, 0.6);
}

.dialog-action,
.dialog-action--response {
  transition: opacity 500ms cubic-bezier(0.4, 0, 0.2, 1), visibility 500ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  transition-delay: 300ms;
}

.dialog-action + .dialog-action--response {
  position: absolute;
  top: 0;
  line-height: var(--ds-space-5);
  height: var(--ds-space-5);
}

.dialog-action--response {
  font-weight: 600;
  transition-delay: 1200ms;
}

.dialog-action--container {
  position: relative;

  & .dialog-action {
    opacity: 1;
    visibility: visible;
  }

  & .dialog-action--response {
    opacity: 0;
    visibility: hidden;
  }

  &:not(.first-time) .dialog-action {
    transition-delay: 2000ms;
  }

  &.dialog-action--animate {
    & .dialog-action {
      opacity: 0;
      visibility: hidden;
    }

    & .dialog-action--response {
      opacity: 1;
      visibility: visible;
    }
  }
}
